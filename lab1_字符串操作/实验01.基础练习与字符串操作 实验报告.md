# 实验01.基础练习与字符串操作 实验报告

> 罗毅凡 2024202715



## 1.实现思路

### 1.1基本框架

* 使用数组实现**顺序表**，完成字符串（句子）的存储，顺序表中每一个元素为一个字符串（单词）
* 设计一个**顺序表指针数组**来存储创建的所有字符串，**实现多个字符串的同时操作**
* 设计**命令行功能交互**

### 1.2功能实现

* 字符串创建：支持命令行输入与本地文件读取功能，对输入内容进行分词然后依次存入顺序表
* 打印：依次打印顺序表中内容
* 单词的插入与删除：从顺序表中插入、删除指定内容，**注意$char*$内存处理**
* 倒置：字符串指针顺序表存储首尾交换
* 判断是否回文：依次比对对称位置是否相同
* 字符查找：对查找内容分词，全顺序表比对
* 销毁：$free$相应内存

### 1.3扩展功能实现

* 多字符串同时操作：实现如1.1
* 词频统计：遍历顺序表并统计，创建数组保存，打印结果
  * 这里我又**创建了一个顺序表来存储词频**
* 字符串合并：将一个字符串追加到另一个字符串上



## 2.遇到主要问题与思考收获

### 问题一：输入字符串语句的读取

* **命令台读取**：
  * 最开始尝试使用`scanf`读取内容，发现`scanf`遇到空格会停止
  * 更改为使用`fgets`来整行读取

* **文件读取**：
  * 根据命令台读取的经验，开始时使用`fgets`来读取，遇到的问题是`fgets`遇到换行符会停止
  * 于是我尝试使用`fgets`循环读取，并替换最后的换行符
  * 但在我自己测试功能时，发现在读取大文件时，`fgets`的缓冲区大小难以确定，于是更改为使用`fgetc`单字符循环读取，并更改相应的分词逻辑

### 问题二：分词问题

* **细节问题**：

  * 最开始时我把读取的字符串直接用`strtok`分词，发现`strtok`会直接在原字符串地址更改我存储的字符串，导致部分功能紊乱
  * 所以在查找、等功能我需要对字符串备份再去分词

  > 小细节，困扰我很久，难以debug出来

### 问题三：查找字符串是否存在

* **版本一**：
  * 仅支持单个单词查找第一个位置，显然功能不够完善
* **版本二**：
  * 尝试对输入内容进行分词，利用版本一查找第一个单词的位置，然后比对剩余单词
  * 会发现查找逻辑不严谨，查找不准确。比如字符串为：`I like apples,like bananas and I like pears`时，尝试查找`like pears`会查找失败
* **版本三**：
  * 于是我最后采用一个粗暴的方式，先用查找内容的第一个单词比对并它在字符串中出现的所有位置，然后在每个位置依次比剩余单词



## 3.实现结果

* 所有功能实现完好，通过助教测试